{# translation-ready, escaped, formatted, semantic #}
{% if loop.index0 % 2 == 0 %}
  {% set flip_class = 'uk-flex-first' %}
{% endif %}
{% if loop.index0 % 2 == 1 %}
  {% set flip_class = 'uk-flex-last@m' %}
{% endif %}

<article id="Post-{{post.id|e('esc_html')}}" class="tease-post {{post.class|e('esc_html')}}"  data-template="tease.twig">
  <div class="uk-grid-match uk-flex uk-flex-middle" uk-grid>
    
    {# tease post featured image #}
    <div class="tease-image uk-width-1-2@m {{flip_class|e('esc_html')}}">
      <a class="uk-link-reset" href="{{post.link|e('esc_url')}}">
        <img 
        data-src="{{ post.thumbnail.src|resize(500, 400)|e('esc_url')|default('https://via.placeholder.com/500x400?text=Add+a+featured+image') }}" 
        alt="{{post.thumbnail.alt|e('esc_html')}}" 
        width="500" height="400" class="square-img-to-landscape-mobile" 
        uk-img>
      </a>
    </div>
    
    {# tease post content #}
    <div class="tease-content uk-width-1-2@m">
      <div class="tease-content-wrap uk-text-center">
        
        {# tease post title: linked #}
        <a class="uk-link-reset" href="{{post.link|e('esc_url')}}">
          <h2 class="tease-title uk-margin-remove-top">{{post.title|e('esc_html')}}</h2>
        </a>
        
        {# tease post meta: date & category #}
        <div class="tease-meta uk-text-meta">
          <time class="post-date">{{ post.date|date('j F Y') }}</time>
          <span class="post-cat">{{ post.terms( {query:{taxonomy:'category', orderby:'name', order: 'ASC', parent: 0, childless: 0, child_of: 0}} )|join(', ')|e('esc_html') }}</span>
        </div>
        
        {# tease post excerpt/preview #}
        <p class="tease-excerpt">{{ post.preview.length(63).force.read_more('')|e('esc_html') }}</p>
        
        {# tease post button #}
        <a href="{{post.link|e('esc_url')}}" class="uk-button uk-button-default uk-button-large">{{ _x('Read more', 'Post tease', 'dream-winners')|e('esc_html') }}</a>
        
      </div>
    </div>
    
  </div>
</article>